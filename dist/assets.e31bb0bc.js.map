{"version":3,"sources":["MediaPlayer.js","plugins/AutoPlay.js","plugins/AutoPause.js","index.js"],"names":["MediaPlayer","config","media","el","plugins","_initPlugins","prototype","player","play","pause","muted","value","forEach","plugin","run","togglePlay","paused","mute","AutoPlay","AutoPause","constructor","threshold","handlerIntersection","bind","handleVisibilityChange","observer","IntersectionObserver","observe","document","addEventListener","entries","entry","isVisible","intersectionRatio","visibilityState","video","querySelector","button","getElementById","buttonMuted","onclick"],"mappings":";;AGAA;;AACA;;AACA;AHFA,AEIA,ADJA,MCIMmB,GFJGnB,MEIT,CAAgB,IFJhB,CAAqBC,MAArB,EAA6B;AACzB,AEIAmB,EAAAA,KFJKlB,KAAL,CEIW,EFJED,CEIA,KFJM,CAACE,EAApB;AACA,AEII,OFJCC,EEIIiB,KFJT,GAAepB,CEIX,GAAiB,EFJA,CAACG,CEIlB,MFJW,IAAkB,EAAjC;AGEJ,ADGQ,MCHF+B,GDGOb,ECHF,GAAGM,QAAQ,CAACQ,KDGf,GAA2B,KCHrB,ADG0Bd,CCHH,OAAvB,CAAd,UDGmC,CAAyBC,IAAzB,CAA8B,IAA9B,CAA3B;AFHJ,AGEJ,ADEQ,ADNR,MEIMc,CHFGhC,EEIImB,ADNJN,GEIG,GAAGU,EFJf,EDEI,CCFe,CAAE,EEIE,CAACU,ODEhB,GAA8B,ICFvB,CAAwB,ADEId,MCF5B,CAAf,eDEsC,CAA4BD,IAA5B,CAAiC,IAAjC,CAA9B;AFFL,AGEH,ADCK,MCDCgB,WAAW,GAAGX,QAAQ,CAACU,cAAT,CAAwB,OAAxB,CAApB;AAIA,AFTApB,MESMX,EFTE,CAACD,GESG,GAAG,GFTf,CESmBN,AFTAc,GAAnB,GAAyB,UAASP,IESnB,CAAgB,CFTN,EAAgB;ADKzCP,AGIiCG,ADF7BW,ADNA,EEQ6BX,ADF7BW,ECE+B,CDF5B,CCE8BqB,ADF7B5B,ADND,CAACA,IDIG,AGIoB,CHJnBD,AEEL,CDNO,CCMC,ADNAI,KAAX,EDIJ,ACJqB,CDICL,YAAtB,GAAqC,YAAW;AAC9C,AGG0CD,ADDpC,ADNAG,EEOoCH,EFPpCG,IDIAA,CGG2C,ADDtCA,CDNC,CEQZ,AFRaG,CESX,EHLU,CEEN,CCGAQ,AFTA,CDIS,CEEKX,CDNC,IAAf,CCMA,SCGJ,EADF,EAEE,IAAIY,kBAAJ,EAFF;AHHEX,AGE2B,ADCvB,ADPH,CEMU,CAAf,EHFIA,IAAI,EAAE,AEGIiB,MFHE,EEGM,GFHDjB,AEGI,IFHT,AEGakB,EFJZ,kBEIQ,CAAyB,KAAKJ,mBAA9B,EAAmD;AFFxEb,AEGQY,IFHRZ,EEGQY,GFHH,EAAE,IEGU,EFHJ,AEGM,KFHDZ,AEGMY,KFHX,EAFA;AAGbnB,AGMJmC,ADL4E,ADNxE9B,EAAAA,EDKAL,CECqB,CCKnB,ADLE,CCKDsC,CFXG,CDKD,ACLEhC,EDKA,ECLP,CEWJ,EHNgBN,CGMC,IHTA,EGSMK,MAAM,CAACQ,UAAP,EAAvB;ADDQU,ADTP,CALD,GCcQA,QAAQ,CAACE,OAAT,CAAiB,KAAKpB,MAAL,CAAYL,KAA7B;AFJJ,AGMJqC,ADAQX,IAAAA,IFNAlB,GGMG,CAAC8B,ADAI,CFNZ,AEMaX,GFND,GGMhB,GAAsB,MAAMtB,CDApB,CAA0B,ICAA,CAACU,IAAP,EAA5B,ODAQ,EAA8C,KAAKO,sBAAnD;AFLF,AEMD,aFNQ,ECLEN,GDKGhB,KAAL,CAAWQ,KAAlB;AACD,KANY;AEabY,EAAAA,mBAAmB,CAACQ,OAAD,EAAS;AFL5B,AEMI,QFNApB,EEMMqB,GFNV,CAAUpB,CEMK,GAAGmB,CFNlB,EAAgB,IEMS,CAAC,CAAD,CAArB;AFLF,AEOE,UAAME,CFPH9B,KAAL,CAAWQ,EEOM,GFPjB,AEOoBqB,GFPDpB,EEOM,CAACsB,EFP1B,eEOoB,IAA2B,KAAKZ,SAAlD;AFNH;AEQG,QAAGW,SAAH,EAAa;AFlBJ,AEmBL,GFnBV,QEmBezB,MAAL,CAAYC,IAAZ;AFNV,AEOO,KAFD,EFLDJ,IEOM,GFPX,CAAaQ,OAAb,CAAqBC,MAAM,IAAI;AAC7BA,AEOQ,IFPRA,MAAM,CAACC,AEOMP,GFPb,CAAWA,EEOH,CAAYE,GFPpB,EEOQ;AFNT,AEOM,GFTP;AAGD,AEOI,CFxBL;;AAmBAT,AEOIwB,EAAAA,SFPO,CAAClB,SAAZ,CAAsBE,EEOI,EFP1B,CEO4B,EFPC,YAAU;AACnC,AEOI,OFPCN,GEOK8B,EFPV,CAAWxB,IAAX,EEOmB,GAAGoB,QAAQ,CAACM,eAAT,IAA4B,SAA9C;AFNP,CAFD;AESQ,QAAGF,SAAH,EAAa;AFLrBhC,AEMY,WFND,AEMMO,CFNLD,KEMA,CAAYE,GFNxB,CAAsBC,AEMV,KFNZ,GAA8B,YAAU;AACpC,AEMK,KAFD,EFJCP,IEMI,CFNT,CAAWO,KAAX;AACH,AEMW,CFRZ,UEQiBF,MAAL,CAAYE,KAAZ;AACH;AFLTT,AEMK,WFNM,CAACM,SAAZ,CAAsBS,UAAtB,GAAmC,YAAW;AAC1C,MAAG,KAAKb,KAAL,CAAWc,MAAd,EAAqB;AACnB,AEjCU,SFiCLR,IAAL;AACD,GAFD,MAGI;AACF,SAAKC,KAAL,CESSU;AFRV;AACJ,CAPD;;AAYEnB,WAAW,CAACM,SAAZ,CAAsBW,IAAtB,GAA6B,YAAU;AACrC,MAAG,KAAKf,KAAL,CAAWQ,KAAd,EAAoB;AAClB,SAAKR,KAAL,CAAWQ,KAAX,GAAmB,KAAnB;AACD,GAFD,MAEK;AACH,SAAKR,KAAL,CAAWQ,KAAX,GAAmB,IAAnB;AACD;AAEF,CAPD;;eAWcV","file":"assets.e31bb0bc.js","sourceRoot":"..\\assets","sourcesContent":["function MediaPlayer(config) {\r\n    this.media = config.el;\r\n    this.plugins = config.plugins || []; \r\n\r\n    this._initPlugins();\r\n\r\n  }\r\n  \r\nMediaPlayer.prototype._initPlugins = function() {\r\n  const player = {\r\n    play: () => this.play(),\r\n    pause: () => this.pause(),\r\n    media: this.media,\r\n    get muted() {\r\n      return this.media.muted;\r\n    },\r\n\r\n    set muted(value){\r\n      this.media.muted = value;\r\n    }\r\n  };\r\n\r\n  this.plugins.forEach(plugin => {\r\n    plugin.run(player)\r\n  })\r\n}\r\n\r\nMediaPlayer.prototype.play = function(){\r\n    this.media.play();\r\n}\r\n\r\nMediaPlayer.prototype.pause = function(){\r\n    this.media.pause();\r\n}\r\n\r\nMediaPlayer.prototype.togglePlay = function() {\r\n    if(this.media.paused){\r\n      this.play();\r\n    } \r\n    else{\r\n      this.pause();\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n  MediaPlayer.prototype.mute = function(){\r\n    if(this.media.muted){\r\n      this.media.muted = false;\r\n    }else{\r\n      this.media.muted = true;\r\n    }\r\n      \r\n  }\r\n\r\n  \r\n  \r\n export default MediaPlayer;\r\n  ","import MediaPlayer from \"../MediaPlayer.js\";\r\n\r\nfunction AutoPlay(){}\r\nAutoPlay.prototype.run = function(player){\r\n    if(!player.muted){\r\n        player.muted = true;\r\n    }\r\n    player.play();\r\n}\r\nexport default AutoPlay;","\r\n\r\n\r\n\r\nclass AutoPause {\r\n    constructor(){\r\n        this.threshold = 0.25;\r\n        this.handlerIntersection = this.handlerIntersection.bind(this);\r\n        this.handleVisibilityChange = this.handleVisibilityChange.bind(this);\r\n    }\r\n    run(player){\r\n        this.player = player;\r\n\r\n        const observer = new IntersectionObserver(this.handlerIntersection, {\r\n            threshold: this.threshold\r\n        })\r\n\r\n        observer.observe(this.player.media);\r\n\r\n        document.addEventListener(\"visibilitychange\", this.handleVisibilityChange)\r\n    }\r\n\r\n    handlerIntersection(entries){\r\n        const entry = entries[0]\r\n        \r\n        const isVisible = entry.intersectionRatio >= this.threshold\r\n        \r\n        if(isVisible){\r\n            this.player.play();\r\n        }else{\r\n            this.player.pause();\r\n        }\r\n    }\r\n\r\n    handleVisibilityChange(){\r\n        const isVisible = document.visibilityState == \"visible\"\r\n        if(isVisible){\r\n            this.player.play();\r\n        }else{\r\n            this.player.pause();\r\n        }\r\n    }\r\n    \r\n    \r\n            \r\n  \r\n    \r\n}\r\n\r\nexport default AutoPause;","import MediaPlayer from './MediaPlayer.js'\r\nimport AutoPlay from './plugins/AutoPlay.js'\r\nimport AutoPause from './plugins/AutoPause.js'\r\n\r\nconst video = document.querySelector(\"video\")\r\n\r\nconst button = document.getElementById(\"play\")\r\n\r\nconst buttonMuted = document.getElementById(\"muted\")\r\n\r\n\r\n\r\nconst player = new MediaPlayer({ el: video, plugins: \r\n  [\r\n    new AutoPlay(),\r\n    new AutoPause(),\r\n  ]\r\n });\r\nbutton.onclick = () => player.togglePlay();\r\nbuttonMuted.onclick = () => player.mute();\r\n\r\n\r\n"]}